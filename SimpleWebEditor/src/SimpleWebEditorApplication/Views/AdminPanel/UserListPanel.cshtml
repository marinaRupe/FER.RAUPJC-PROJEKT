@model dynamic

@{
    ViewBag.Title = "Admin panel";
    Layout = "_Layout";
}

<section id="main">
    <h1>Administrator </h1>
    <hr />
    <div class="container">

        @Html.Partial("AdminPanelTabs")
        <hr />

        <h1 style="text-align: center">User list</h1>
        <hr />

        <div class="btn-group" role="group">
            <a class="btn btn-primary" asp-area="" asp-controller="AdminPanel" asp-action="CreateNewUserPanel">Create new user</a>
        </div>
        <hr />

        <table id="page-list" class="table table-striped table-hover"></table>

        <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.13/js/dataTables.bootstrap.min.js"></script>

        <script type="text/javascript">
            var data = [];


            var options = {
                columns: [
                    {
                        title: "User",
                        data: "author",
                        render: function (author, link, objekt) {
                            return "<a href='../servlets/adminPageEditUser?username=" + author + "'>" + author + "</a>";
                        }
                    },
                    {
                        title: "First name",
                        data: "firstname",
                    },
                    {
                        title: "Last name",
                        data: "surname",
                    },
                    {
                        title: "Role",
                        data: "role",
                    },
                    {
                        title: "Delete user",
                        data: "author",
                        render: function (author, link, objekt) {
                            return "<a  href='../servlets/adminPageDeleteUser?username=" + author + "'>" + author + "</a>";
                        }
                    }
                ],
                data: data,
                scrollY: '300px'
            };

            $("#page-list").DataTable(options);
        </script>
    </div>

</section>